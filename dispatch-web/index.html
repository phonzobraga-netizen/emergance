<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emergance Dispatch Web</title>
  </head>
  <body>
    <header class="topbar">
      <div>
        <h1>Emergance Dispatch Web</h1>
        <p id="subtitle">Cloud dashboard mirror of dispatch desktop</p>
      </div>
      <div class="env-controls">
        <label>
          Mode
          <select id="mode-select" disabled>
            <option value="remote">Remote API</option>
          </select>
        </label>
        <label>
          API Base
          <input id="api-base" placeholder="http://localhost:37024/api/dispatch" />
        </label>
        <button id="connect-btn" type="button">Connect</button>
      </div>
    </header>

    <main class="layout">
      <section class="panel incidents">
        <h2>Active Incidents</h2>
        <div class="toolbar">
          <button id="add-incident-btn" type="button">Simulate SOS</button>
          <button id="reset-btn" type="button">Reset Demo</button>
          <button id="refresh-btn" type="button">Refresh</button>
        </div>
        <ul id="incident-list"></ul>
      </section>

      <section class="panel map-panel">
        <h2>Map (Philippines)</h2>
        <div class="toolbar map-toolbar">
          <button id="ping-location-btn" type="button">Ping My Location</button>
          <button id="recenter-btn" type="button">Recenter Map</button>
        </div>
        <div id="map"></div>
        <div class="map-legend">
          <span><i class="legend-dot incident"></i>Incident</span>
          <span><i class="legend-dot responder"></i>Responder</span>
          <span><i class="legend-dot origin"></i>Origin ping</span>
        </div>
        <div class="status-line" id="status-line">Connecting...</div>
      </section>

      <section class="panel responders">
        <h2>Responders</h2>
        <ul id="responder-list"></ul>
      </section>
    </main>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
